<main>
  <!-- Breadcrumbs -->
  <div class="breadcrumbs vote">
    <ol>
      <li><a href="javascript:void(0);" routerLink="/vote" class="animation-underline">Vote</a> <span class="label"> &gt; </span> </li>
      <li>{{getProposal()?.name}}</li>
    </ol>
  </div>

  <h2>{{getProposal()?.name}}</h2>
  <!-- Proposal overview -->
  <section id="proposal-overview" class="panel">
    <!-- Container -->
    <div class="grid proposal-overview-metadata">
      <div class="grid-cell">
        <span class="label"><img [src]="getProposal()?.getStatusImgSrc()">{{getProposal()?.getProposalState(reloaderService)}}</span> <span class="label"><img src="assets/img/icon/chart.svg">{{to2DecimalRoundedOffPercentString(getProposal()?.getPercentageVoted(), true)}} voted</span> <span class="label">
        <img src="assets/img/icon/users.svg">{{totalVoters()}} voters</span>
      </div>
    </div>

    <!-- Approve -->
    <div class="grid">
      <div class="grid-cell">
        <p class="text-bold">Approve <span class="label">{{to2DecimalRoundedOffPercentString(getProposal()?.forVotes, true)}} ({{to2DecimalRoundedOffPercentString(getProposal()?.majority, true)}} required)</span></p>
        <div id="slider-approve" disabled="" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr">
          <div class="noUi-base">
            <div class="noUi-connects">
              <div class="noUi-connect" [ngStyle]="{'transform': 'translate(0%) scale(' + getProposal()?.forVotes + ', 1)'}"></div>
            </div>
            <div class="noUi-origin" style="transform: translate(-208.955%); z-index: 4;">
              <div class="noUi-handle noUi-handle-lower" data-handle="0" tabindex="0" role="slider" aria-orientation="horizontal" aria-valuemin="0.0" aria-valuemax="100" aria-valuenow="50" aria-valuetext="90">
                <div class="noUi-touch-area"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="grid-cell text-right button-container">
        <a href="javascript:void(0);" class="button modal-trigger" data-modal="modal-vote-approve" (click)="onApproveClick()">Approve</a>
      </div>
    </div>

    <!-- Reject -->
    <div class="grid" style="margin-top: 15px;">
      <div class="grid-cell">
        <p class="text-bold">Reject <span class="label">{{to2DecimalRoundedOffPercentString(getProposal()?.against, true)}}</span></p>
        <div id="slider-reject" disabled="" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr">
          <div class="noUi-base">
            <div class="noUi-connects">
              <div class="noUi-connect" [ngStyle]="{'transform': 'translate(0%) scale(' + getProposal()?.against + ', 1)'}"></div>
            </div>
            <div class="noUi-origin" style="transform: translate(-791.045%); z-index: 4;">
              <div class="noUi-handle noUi-handle-lower" data-handle="0" tabindex="0" role="slider" aria-orientation="horizontal" aria-valuemin="0.0" aria-valuemax="67.0" aria-valuenow="14.0" aria-valuetext="14.00">
                <div class="noUi-touch-area"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="grid-cell text-right button-container">
        <a href="javascript:void(0);" class="button modal-trigger purple" data-modal="modal-vote-reject" (click)="onRejectClick()">Reject</a>
      </div>
    </div>
  </section>


  <h2>Description</h2>
  <!-- Proposal description -->
  <section id="proposal-description">
    <!-- Container -->
    <div class="grid panel">
      <div class="grid-cell">
        <p>{{getProposal()?.description}}</p>
        <br>
        <div class="proposal-description-metadata border-top">
          <a href="javascript:void(0);">Discussion</a><img src="assets/img/icon/external.svg">
          <a href="javascript:void(0);">Transaction</a><img src="assets/img/icon/external.svg">
        </div>
      </div>
    </div>
  </section>
</main>
